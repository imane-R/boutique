{% extends 'layout.html.twig' %}

{% block title %}
  liste produit admin
{% endblock %}

{% block content %}
  <a href="{{ path('admin_app_produit_add') }}">Ajouter un nouveau produit</a>

  <table class="table text-center">
    <thead class="thead-dark">
      <tr>
        <th scope="col">Id</th>
        <th scope="col">titre</th>
        <th scope="col">description</th>
        <th scope="col">couleur</th>
        <th scope="col">taille</th>
        <th scope="col">photo</th>
        <th scope="col">prix</th>
        <th scope="col">stock</th>
        <th scope="col">Categorie</th>
        <th scope="col">Action</th>
      </tr>
    </thead>
    <tbody>
      {% for produit in produits %}
        <tr>
          <td>{{ produit.id }}</td>
          <td>{{ produit.titre }}</td>
          <td>{{ produit.description|slice(0, 50) }} ...</td>
          <td>{{ produit.couleur }}</td>
          <td>{{ produit.taille }}</td>
          <td>
            <img class="img-thumbnail" src="{{ asset('photos/produit/' ~ produit.photo) }}" alt="{{ produit.titre }}" />
          </td>
          <td>{{ produit.prix }}</td>
          <td>{{ produit.stock }}</td>
          <td>{{ produit.categorie.nom }}</td>
          <td>
            <a href="{{ path('admin_app_produit_details', { id: produit.id }) }}"><i class="fas fa-eye mx-1 text-primary"></i></a>
            <a href="{{ path('admin_app_produit_update', { id: produit.id }) }}"><i class="fas fa-edit mx-1 text-success"></i></a>
            <a href="{{ path('admin_app_produit_delete', { id: produit.id }) }}" onclick="return confirm('êtes vous sûr de vouloir supprimer le produit ?')"><i class="fas fa-trash mx-1 text-danger"></i></a>
          </td>
        </tr>
      {% endfor %}
    </tbody>
  </table>
{% endblock %}
